import{a as q,S as _,i as s}from"./assets/vendor-BSTwZ_tR.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&f(h)}).observe(document,{childList:!0,subtree:!0});function e(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(t){if(t.ep)return;t.ep=!0;const r=e(t);fetch(t.href,r)}})();const $="https://pixabay.com/api/",x="52802727-e127d4f3f7eb26b70bb46f136",M=15;async function g(n,o=1){const e=new URLSearchParams({key:x,q:n,orientation:"horizontal",image_type:"photo",safesearch:"true",per_page:M,page:o});return(await q.get(`${$}?${e.toString()}`)).data}const b=document.querySelector(".load_more"),L=document.querySelector(".gallery"),a=document.querySelector(".loader");let c;function B(){c&&(c.on("show.simplelightbox",()=>{document.body.style.overflow="hidden"}),c.on("close.simplelightbox",()=>{document.body.style.overflow=""}))}function w(n){const o=n.map(e=>`
      <li class="cart">
        <a class="photo_link" href="${e.largeImageURL}">
          <img class="photo_image" src="${e.webformatURL}" alt="${e.tags}" />
        </a>
        <div class="photo_info">
          <p><b>Likes:</b> ${e.likes}</p>
          <p><b>Views:</b> ${e.views}</p>
          <p><b>Comments:</b> ${e.comments}</p>
          <p><b>Downloads:</b> ${e.downloads}</p>
        </div>
      </li>`).join("");L.insertAdjacentHTML("beforeend",o),c?c.refresh():c=new _(".gallery a",{captionsData:"alt",captionDelay:250}),B()}function O(){L.innerHTML=""}function v(){a==null||a.classList.remove("hidden")}function l(){a==null||a.classList.add("hidden")}function R(){b.classList.remove("hidden")}function u(){b.classList.add("hidden")}const S=document.querySelector(".form"),y=S.elements["search-text"],A=document.querySelector(".load_more"),P={title:"No results",message:"Sorry, there are no images matching your search query. Please try again!",position:"center",timeout:3e3},m={title:"End of results",message:"We're sorry, but you've reached the end of search results.",position:"center",timeout:4e3},E={title:"Error",message:"Something went wrong. Please try again later.",position:"center",timeout:3e3};let i=1,d=0,p="";S.addEventListener("submit",H);A.addEventListener("click",I);async function H(n){n.preventDefault(),u();const o=y.value.trim();if(!o){s.warning({title:"Warning",message:"Please enter a search query.",position:"center",timeout:3e3});return}p=o,i=1,O(),v();try{const e=await g(p,i);if(l(),e.hits.length===0){s.error(P);return}w(e.hits),d=Math.ceil(e.totalHits/15),y.value="",i<d?R():(s.info(m),u())}catch{l(),s.error(E)}}async function I(){if(i>=d){u(),s.info(m);return}i+=1,v();try{const n=await g(p,i);if(l(),n.hits.length===0){s.error(P);return}w(n.hits);const o=document.querySelector(".gallery .cart");if(o){const e=o.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}i>=d&&(u(),s.info(m))}catch{l(),s.error(E)}}
//# sourceMappingURL=index.js.map
